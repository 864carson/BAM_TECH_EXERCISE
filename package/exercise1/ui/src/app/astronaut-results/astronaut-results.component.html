<table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="row-border hover" data-page-length='5'></table>

@if (selectedAstronaut !== undefined && selectedAstronaut !== null) {
<hr />
<div class="detailsHeader">
    <span>{{ selectedAstronaut.name }}</span>
    <span>{{ selectedAstronaut.currentRank }}</span>
    <span>{{ selectedAstronaut.currentDutyTitle }}</span>
</div>

<div class="detailsAndDutyFormWrapper">
    <div class="astronautDetailsWrapper">
        <app-astronaut-details [astronaut]="selectedAstronaut"></app-astronaut-details>
    </div>
    <div class="astronautDutyFormWrapper">
        @if (newAstronautDutyFormVisible) {
        <form class="newDutyForm">
            <label>Create a new duty record for {{ selectedAstronaut.name }}:</label>

            <div>
                <input id="newAstronautDutyRank" name="newAstronautDutyRank" type="text" placeholder="Astronaut Rank"
                    [(ngModel)]="newAstronautDuty.rank" />
            </div>
            <div>
                <input id="newAstronautDutyTitle" name="newAstronautDutyTitle" type="text"
                    placeholder="Astronaut Duty Title" [(ngModel)]="newAstronautDuty.dutyTitle" />
            </div>
            <div>
                <input id="newAstronautDutyStartDate" name="newAstronautDutyStartDate" type="text"
                    placeholder="Astronaut Duty Start Date" [(ngModel)]="newAstronautDuty.dutyStartDate" />
            </div>

            <div>
                <button class="primary" type="button" (click)="addAstronautDuty()">Add Duty Record</button>&nbsp;
                <button class="secondary" type="button" (click)="hideNewAstronautDutyForm()">Cancel</button>
            </div>
        </form>
        }
    </div>
</div>
}