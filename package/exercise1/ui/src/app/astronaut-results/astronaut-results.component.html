<label class="instructions">
    To view or create a new duty record, select an astronaut from the table below. The duty history and new duty form
    will then be displayed under the table.
</label>

<table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="row-border hover" data-page-length='5'></table>

@if (selectedAstronaut !== undefined && selectedAstronaut !== null) {
<div class="detailsArea">
    <hr />
    <div class="detailsHeader">
        <span>{{ selectedAstronaut.name }}</span>
    </div>

    <div class="detailsAndDutyFormWrapper">
        <div class="astronautDetailsWrapper">
            <app-astronaut-details [astronaut]="selectedAstronaut"></app-astronaut-details>
        </div>
        <div class="astronautDutyFormWrapper">
            @if (newAstronautDutyFormVisible) {
            <form class="newDutyForm">
                <div>
                    <label>Create a new duty record for {{ selectedAstronaut.name }}:</label>

                    <div>
                        <label>Rank</label>
                        <input id="newAstronautDutyRank" name="newAstronautDutyRank" type="text"
                            placeholder="Astronaut Rank" [(ngModel)]="newAstronautDuty.rank" />
                    </div>
                    <div>
                        <label>Duty Title</label>
                        <input id="newAstronautDutyTitle" name="newAstronautDutyTitle" type="text"
                            placeholder="Astronaut Duty Title" [(ngModel)]="newAstronautDuty.dutyTitle" />
                    </div>
                    <div>
                        <label>Duty Start Date</label>
                        <input id="newAstronautDutyStartDate" name="newAstronautDutyStartDate" type="text"
                            placeholder="Astronaut Duty Start Date" [(ngModel)]="newAstronautDuty.dutyStartDate" />
                    </div>

                    <div>
                        <button class="primary" type="button" (click)="addAstronautDuty()">Add Duty
                            Record</button>&nbsp;
                        <button class="secondary" type="button" (click)="hideNewAstronautDutyForm()">Cancel</button>
                    </div>
                </div>
            </form>
            }
        </div>
    </div>
</div>
}