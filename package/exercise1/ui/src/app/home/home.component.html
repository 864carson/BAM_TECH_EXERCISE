<section class="searchSection">
    Creating a new astronaut is quick and easy!
    <button class="primary" type="button" (click)="showNewAstronautForm()">Add New Astronaut</button>
</section>

@if (isAddingNewAstronaut) {
    <div class="newAstronautWrapper">
        <p>Adding a new astronaut is a quick 2-step process.</p>

        <div class="stepWrapper">
            <div class="stepMenu">
                <div [ngClass]="isInAddingStep1 ? 'currentStep' : 'otherStep'">
                    Step 1: Add a new astronaut
                </div>
                <div [ngClass]="isInAddingStep2 ? 'currentStep' : 'otherStep'">
                    Step 2: Add a duty record
                </div>
            </div>
            <div class="stepActivity">
                <div class="step1" *ngIf="isInAddingStep1">
                    <label>Enter the new astronaut's name. Click the <i>Add Duty Record</i> button to add a duty record and return to the astronaut table.</label>
                    <div class="controlWrapper">
                        <label>Astronaut Name</label>
                        <input id="newAstronautName" name="newAstronautName" type="text" placeholder="Astronaut Name"
                            [(ngModel)]="newAstronaut.name" />
                    </div>
                    <div class="actions">
                        <button class="primary" type="button" (click)="addNewAstronautThenDuty()">Add Astronaut</button>
                        <!-- <button class="primary" type="button" (click)="addNewAstronaut()">Add Astronaut and Finish</button> -->
                        <button class="secondary" type="button" (click)="hideNewAstronautForm()">Cancel</button>
                    </div>
                </div>

                <div class="step2" *ngIf="isInAddingStep2">
                    <label>Add a duty record for {{ newAstronaut.name }}.  Click the <i>Add Astronaut</i> button to add a duty record.</label>
                    <input id="newAstronautDutyName" name="newAstronautDutyName" type="hidden" [(ngModel)]="newAstronautDuty.name"
                        disabled />
                    <div class="controlWrapper">
                        <label>Duty Rank</label>
                        <input id="newAstronautDutyRank" name="newAstronautDutyRank" type="text" placeholder="Astronaut Rank"
                            [(ngModel)]="newAstronautDuty.rank" />
                    </div>
                    <div class="controlWrapper">
                        <label>Duty Title</label>
                        <input id="newAstronautDutyTitle" name="newAstronautDutyTitle" type="text" placeholder="Astronaut Duty Title"
                            [(ngModel)]="newAstronautDuty.dutyTitle" />
                    </div>
                    <div class="controlWrapper">
                        <label>Duty Start Date</label>
                        <input id="newAstronautDutyStartDate" name="newAstronautDutyStartDate" type="text"
                            placeholder="Astronaut Duty Start Date" [(ngModel)]="newAstronautDuty.dutyStartDate" />
                    </div>
                    <div class="actions">
                        <button class="primary" type="button" (click)="addAstronautDuty()">Add Duty Record</button>
                        <button class="secondary" type="button" (click)="hideNewAstronautForm()">Skip</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
} @else {
    <section>
        <app-astronaut-results [reloadTable]="reloadTable" (isBusy)="isChildBusy($event)"></app-astronaut-results>
    </section>
}